<app-navbar></app-navbar>
<div class="page-container">
  <div class="page-header">
    <h2>Mes Quiz</h2>
    <p>Explorez et participez aux quiz disponibles</p>
  </div>

  <div class="quiz-card" *ngFor="let quiz of userQuizzes">
    <div class="quiz-header">
      <h3>{{ quiz.title }}</h3>
      <span class="quiz-badge" [ngClass]="quiz.badgeClass">{{ quiz.badge }}</span>
    </div>
    <p>{{ quiz.description }}</p>
    <div class="quiz-info">
      <span><strong>Thème :</strong> {{ quiz.theme }}</span>
      <span><strong>Durée :</strong> {{ quiz.duration }} min</span>
    </div>
    <img *ngIf="quiz.imageUrl" [src]="'https://quizonexpleo.up.railway.app' + quiz.imageUrl" alt="Quiz image"
      style="width:120px;" />
    
    <!-- Nouveau bouton avec logique conditionnelle -->
    <button 
      [ngClass]="getButtonClass(quiz)"
      [disabled]="!isButtonClickable(quiz)"
      (click)="navigateToQuiz(quiz.id)">
      {{ getButtonText(quiz) }}
    </button>
  </div>
</div>